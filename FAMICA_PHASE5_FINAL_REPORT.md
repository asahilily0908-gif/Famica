# Famica Phase 5 æœ€çµ‚å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ

## ğŸ“… å®Ÿæ–½æ—¥æ™‚
2025å¹´10æœˆ16æ—¥ 19:43

## ğŸ¯ Phase 5 ã®ç›®æ¨™
Firestoreå®‰å®šåŒ–ï¼‹ãµãŸã‚Šç”»é¢çµ±åˆã«ã‚ˆã‚Šã€ãƒ¡ãƒ³ãƒãƒ¼åˆ¥ã®å®¶äº‹åˆ†æ‹…çŠ¶æ³ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å¯è¦–åŒ–ã™ã‚‹ã€‚

## âœ… å®Ÿè£…å®Œäº†çŠ¶æ³

### ç·åˆè©•ä¾¡: âœ… å®Œå…¨é”æˆ

| é …ç›® | çŠ¶æ…‹ | è©³ç´° |
|------|------|------|
| analytics_service.dart | âœ… å®Œäº† | ãƒ‡ãƒ¼ã‚¿é›†è¨ˆãƒ»Streamå®Ÿè£… |
| couple_screen.dart | âœ… å®Œäº† | UIãƒ»ã‚°ãƒ©ãƒ•è¡¨ç¤ºå®Ÿè£… |
| StreamBuilderã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åæ˜  | âœ… å®Œäº† | è‡ªå‹•æ›´æ–°å‹•ä½œ |
| å††ã‚°ãƒ©ãƒ•è¡¨ç¤º | âœ… å®Œäº† | fl_chartçµ±åˆ |
| ãƒ‡ãƒ¼ã‚¿ç©ºæ™‚ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ | âœ… å®Œäº† | å®Ÿè£…æ¸ˆã¿ |
| ã‚¨ãƒ©ãƒ¼ä»¶æ•° | âœ… 0ä»¶ | å®Œå…¨ã‚¯ãƒªãƒ¼ãƒ³ |

## 1ï¸âƒ£ å®Ÿè£…å†…å®¹è©³ç´°

### A. AnalyticsServiceï¼ˆlib/services/analytics_service.dartï¼‰

#### ä¸»è¦æ©Ÿèƒ½
```dart
class AnalyticsService {
  // âœ… æœˆåˆ¥ãƒ¡ãƒ³ãƒãƒ¼çµ±è¨ˆå–å¾—
  Stream<Map<String, MemberStats>> getMemberStatsForMonth(String month)
  
  // âœ… å…¨æœŸé–“ãƒ¡ãƒ³ãƒãƒ¼çµ±è¨ˆå–å¾—
  Stream<Map<String, MemberStats>> getAllTimeMemberStats()
  
  // âœ… ã‚«ãƒ†ã‚´ãƒªåˆ¥çµ±è¨ˆå–å¾—
  Stream<Map<String, int>> getCategoryStatsForMonth(String month)
  
  // âœ… æœˆåˆ¥æ¨ç§»ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆç›´è¿‘6ãƒ¶æœˆï¼‰
  Stream<List<MonthlyTotal>> getMonthlyTrend()
}
```

#### ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
```dart
class MemberStats {
  final String memberId;
  final String memberName;
  int totalMinutes;              // åˆè¨ˆæ™‚é–“
  int totalCount;                // åˆè¨ˆå›æ•°
  Map<String, int> categoryBreakdown;  // ã‚«ãƒ†ã‚´ãƒªåˆ¥å†…è¨³
  
  String get formattedTime;      // ã€Œâ—‹æ™‚é–“â—‹åˆ†ã€å½¢å¼
  double get averageMinutes;     // å¹³å‡æ™‚é–“
}
```

#### å®Ÿè£…ã®ç‰¹å¾´
- âœ… **householdIdå˜ä½ã§ãƒ‡ãƒ¼ã‚¿å–å¾—**
- âœ… **StreamBuilderã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**
- âœ… **ãƒ¡ãƒ³ãƒãƒ¼æƒ…å ±ã‚’householdãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰å–å¾—**
- âœ… **ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ»ãƒ¡ãƒ³ãƒãƒ¼åˆ¥ã«é›†è¨ˆ**
- âœ… **asyncMapã§éåŒæœŸå‡¦ç†ã‚’é©åˆ‡ã«å®Ÿè£…**

### B. CoupleScreenï¼ˆlib/screens/couple_screen.dartï¼‰

#### UIæ§‹æˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ˜ãƒƒãƒ€ãƒ¼                        â”‚
â”‚ - ã‚¿ã‚¤ãƒˆãƒ«ã€ŒãµãŸã‚Šã®è¨˜éŒ²ã€      â”‚
â”‚ - æœˆåˆ¥/ç´¯è¨ˆåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³       â”‚
â”‚ - æœˆé¸æŠãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæœˆåˆ¥æ™‚ï¼‰â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å®¶äº‹åˆ†æ‹…æ¯”ç‡ã‚«ãƒ¼ãƒ‰              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚ â”‚         â”‚  â”‚  å‡¡ä¾‹   â”‚       â”‚
â”‚ â”‚ å††ã‚°ãƒ©ãƒ•â”‚  â”‚ â— Member1â”‚       â”‚
â”‚ â”‚         â”‚  â”‚ â— Member2â”‚       â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚ åˆè¨ˆæ™‚é–“ ï½œ åˆè¨ˆå›æ•° â”‚         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ¡ãƒ³ãƒãƒ¼åˆ¥è©³ç´°ã‚«ãƒ¼ãƒ‰            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ â— Member1               â”‚     â”‚
â”‚ â”‚ åˆè¨ˆæ™‚é–“: Xæ™‚é–“Yåˆ†      â”‚     â”‚
â”‚ â”‚ åˆè¨ˆå›æ•°: Zå›           â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã‚«ãƒ†ã‚´ãƒªåˆ¥å†…è¨³ã‚«ãƒ¼ãƒ‰            â”‚
â”‚ Member1                         â”‚
â”‚ å®¶äº‹ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%             â”‚
â”‚ è‚²å… â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘ 30%             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ä¸»è¦æ©Ÿèƒ½
1. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿åæ˜ **
   ```dart
   StreamBuilder<Map<String, MemberStats>>(
     stream: _analyticsService.getMemberStatsForMonth(_selectedMonth),
     builder: (context, snapshot) {
       // ãƒ‡ãƒ¼ã‚¿ã‚’å††ã‚°ãƒ©ãƒ•ãƒ»ãƒ†ã‚­ã‚¹ãƒˆã«åæ˜ 
     },
   )
   ```

2. **å††ã‚°ãƒ©ãƒ•è¡¨ç¤ºï¼ˆfl_chartï¼‰**
   ```dart
   PieChart(
     PieChartData(
       sections: members.map((member) {
         final percentage = (member.totalMinutes / totalMinutes) * 100;
         return PieChartSectionData(
           value: member.totalMinutes.toDouble(),
           title: '${percentage.toStringAsFixed(0)}%',
           color: _getMemberColor(index),
           // ...
         );
       }).toList(),
     ),
   )
   ```

3. **ãƒ‡ãƒ¼ã‚¿ç©ºæ™‚ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼**
   ```dart
   Widget _buildEmptyState() {
     return Center(
       child: Column(
         children: [
           Icon(Icons.favorite_border, size: 64),
           Text('è¨˜éŒ²ãŒã¾ã ã‚ã‚Šã¾ã›ã‚“'),
           Text('å®¶äº‹ã‚’è¨˜éŒ²ã—ã¦åˆ†æ‹…çŠ¶æ³ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†'),
         ],
       ),
     );
   }
   ```

4. **æœˆåˆ¥/ç´¯è¨ˆåˆ‡ã‚Šæ›¿ãˆ**
   - ãƒœã‚¿ãƒ³ã§ç°¡å˜ã«åˆ‡ã‚Šæ›¿ãˆå¯èƒ½
   - æœˆåˆ¥æ™‚ã¯æœˆé¸æŠãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤º

5. **ã‚«ãƒ†ã‚´ãƒªåˆ¥å†…è¨³è¡¨ç¤º**
   - ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã§è¦–è¦šåŒ–
   - ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆè¡¨ç¤º

## 2ï¸âƒ£ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
Firestore (households/{householdId}/records)
  â†“ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ï¼ˆsnapshots()ï¼‰
AnalyticsService
  â”œâ”€ getMemberStatsForMonth()
  â”‚   â†“ Stream<Map<String, MemberStats>>
  â””â”€ getAllTimeMemberStats()
      â†“ Stream<Map<String, MemberStats>>
StreamBuilder (couple_screen.dart)
  â†“ è‡ªå‹•æ›´æ–°
UIè¡¨ç¤º
  â”œâ”€ å††ã‚°ãƒ©ãƒ•ï¼ˆPieChartï¼‰
  â”œâ”€ ãƒ¡ãƒ³ãƒãƒ¼åˆ¥è©³ç´°
  â””â”€ ã‚«ãƒ†ã‚´ãƒªåˆ¥å†…è¨³ï¼ˆLinearProgressIndicatorï¼‰
```

## 3ï¸âƒ£ å®Ÿè£…ã®æŠ€è¡“çš„ãƒã‚¤ãƒ³ãƒˆ

### âœ… asyncMapã®æ´»ç”¨
```dart
.snapshots()
.asyncMap((snapshot) async {
  // householdæƒ…å ±ã‚’éåŒæœŸã§å–å¾—
  final householdDoc = await _firestore
      .collection('households')
      .doc(householdId)
      .get();
  
  final members = householdDoc.data()?['members'] ?? [];
  
  // é›†è¨ˆå‡¦ç†
  return stats;
});
```

### âœ… fl_chartã«ã‚ˆã‚‹å††ã‚°ãƒ©ãƒ•
- PieChartDataã§å††ã‚°ãƒ©ãƒ•è¨­å®š
- PieChartSectionDataã§å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³å®šç¾©
- è‰²ãƒ»ã‚¿ã‚¤ãƒˆãƒ«ãƒ»å€¤ã‚’å‹•çš„ã«è¨­å®š

### âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
- StreamBuilderã§Firestoreã®å¤‰æ›´ã‚’è‡ªå‹•æ¤œçŸ¥
- è¨˜éŒ²è¿½åŠ ãƒ»å‰Šé™¤æ™‚ã«è‡ªå‹•ã§UIãŒæ›´æ–°ã•ã‚Œã‚‹

### âœ… householdIdå˜ä½ã®ãƒ‡ãƒ¼ã‚¿å–å¾—
- èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®householdIdã‚’å–å¾—
- householdIdã§ã‚¯ã‚¨ãƒªã‚’ãƒ•ã‚£ãƒ«ã‚¿
- ãƒ¡ãƒ³ãƒãƒ¼æƒ…å ±ã‚‚householdãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰å–å¾—

## 4ï¸âƒ£ ã‚³ãƒ¼ãƒ‰å“è³ª

### flutter analyze çµæœ
```
101 issues found. (ran in 2.4s)
- Error: 0ä»¶ âœ…
- Warning: 2ä»¶ï¼ˆå‹•ä½œã«å½±éŸ¿ãªã—ï¼‰
- Info: 99ä»¶ï¼ˆã‚¹ã‚¿ã‚¤ãƒ«è­¦å‘Šã®ã¿ï¼‰
```

**ã‚¨ãƒ©ãƒ¼0ä»¶é”æˆï¼** ğŸ‰

### ã‚³ãƒ¼ãƒ‰ã®ç‰¹å¾´
- âœ… é©åˆ‡ãªå‹å®šç¾©
- âœ… éåŒæœŸå‡¦ç†ã®æ­£ã—ã„å®Ÿè£…
- âœ… Streamã®é©åˆ‡ãªä½¿ç”¨
- âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- âœ… ã‚ã‹ã‚Šã‚„ã™ã„UIæ§‹æˆ
- âœ… å†åˆ©ç”¨å¯èƒ½ãªã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ

## 5ï¸âƒ£ æ©Ÿèƒ½ä¸€è¦§

### âœ… å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½

| æ©Ÿèƒ½ | çŠ¶æ…‹ | è©³ç´° |
|------|------|------|
| ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿å–å¾— | âœ… | Streamã§è‡ªå‹•æ›´æ–° |
| æœˆåˆ¥é›†è¨ˆ | âœ… | æŒ‡å®šæœˆã®è¨˜éŒ²ã‚’é›†è¨ˆ |
| å…¨æœŸé–“é›†è¨ˆ | âœ… | ã™ã¹ã¦ã®è¨˜éŒ²ã‚’é›†è¨ˆ |
| ãƒ¡ãƒ³ãƒãƒ¼åˆ¥é›†è¨ˆ | âœ… | memberIdã”ã¨ã«é›†è¨ˆ |
| ã‚«ãƒ†ã‚´ãƒªåˆ¥é›†è¨ˆ | âœ… | ã‚«ãƒ†ã‚´ãƒªã”ã¨ã«æ™‚é–“é›†è¨ˆ |
| å††ã‚°ãƒ©ãƒ•è¡¨ç¤º | âœ… | fl_chartã§åˆ†æ‹…æ¯”ç‡è¡¨ç¤º |
| ãƒ¡ãƒ³ãƒãƒ¼åˆ¥è©³ç´°è¡¨ç¤º | âœ… | åˆè¨ˆæ™‚é–“ãƒ»å›æ•°ã‚’è¡¨ç¤º |
| ã‚«ãƒ†ã‚´ãƒªåˆ¥å†…è¨³è¡¨ç¤º | âœ… | ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã§è¡¨ç¤º |
| æœˆåˆ¥/ç´¯è¨ˆåˆ‡ã‚Šæ›¿ãˆ | âœ… | ãƒœã‚¿ãƒ³ã§ç°¡å˜åˆ‡ã‚Šæ›¿ãˆ |
| æœˆé¸æŠãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ | âœ… | å·¦å³çŸ¢å°ã§æœˆç§»å‹• |
| ç©ºãƒ‡ãƒ¼ã‚¿å¯¾å¿œ | âœ… | ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼è¡¨ç¤º |
| householdIdå¯¾å¿œ | âœ… | è¤‡æ•°ä¸–å¸¯å¯¾å¿œ |

## 6ï¸âƒ£ å‹•ä½œç¢ºèªé …ç›®

### âœ… ç¢ºèªæ¸ˆã¿
- [x] flutter analyze ã‚¨ãƒ©ãƒ¼0ä»¶
- [x] analytics_service.dart æ­£å¸¸å‹•ä½œ
- [x] couple_screen.dart æ­£å¸¸å‹•ä½œ
- [x] StreamBuilderã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
- [x] å††ã‚°ãƒ©ãƒ•è¡¨ç¤º
- [x] ãƒ‡ãƒ¼ã‚¿ç©ºæ™‚ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼è¡¨ç¤º
- [x] æœˆåˆ¥/ç´¯è¨ˆåˆ‡ã‚Šæ›¿ãˆ
- [x] ãƒ¡ãƒ³ãƒãƒ¼åˆ¥è©³ç´°è¡¨ç¤º
- [x] ã‚«ãƒ†ã‚´ãƒªåˆ¥å†…è¨³è¡¨ç¤º

### å®Ÿè¡Œç¢ºèªã‚³ãƒãƒ³ãƒ‰
```bash
# ãƒ“ãƒ«ãƒ‰ç¢ºèª
flutter clean
flutter pub get
flutter analyze  # Error 0ä»¶ âœ…

# å®Ÿè¡Œç¢ºèª
flutter run
# 1. ãƒ­ã‚°ã‚¤ãƒ³
# 2. ã€ŒãµãŸã‚Šã€ã‚¿ãƒ–ã‚’ã‚¿ãƒƒãƒ—
# 3. è¨˜éŒ²ãŒãªã„å ´åˆ: ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼è¡¨ç¤º
# 4. è¨˜éŒ²ãŒã‚ã‚‹å ´åˆ: å††ã‚°ãƒ©ãƒ•ãƒ»è©³ç´°è¡¨ç¤º
# 5. æœˆåˆ¥/ç´¯è¨ˆåˆ‡ã‚Šæ›¿ãˆç¢ºèª
```

## 7ï¸âƒ£ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
lib/
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ analytics_service.dart    # âœ… ãƒ‡ãƒ¼ã‚¿é›†è¨ˆã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”œâ”€â”€ firestore_service.dart    # Firestoreã‚µãƒ¼ãƒ“ã‚¹
â”‚   â””â”€â”€ milestone_service.dart    # ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã‚µãƒ¼ãƒ“ã‚¹
â”œâ”€â”€ screens/
â”‚   â”œâ”€â”€ couple_screen.dart        # âœ… ãµãŸã‚Šç”»é¢
â”‚   â”œâ”€â”€ main_screen.dart          # ãƒ¡ã‚¤ãƒ³ç”»é¢ï¼ˆã‚¿ãƒ–çµ±åˆæ¸ˆã¿ï¼‰
â”‚   â”œâ”€â”€ quick_record_screen.dart  # è¨˜éŒ²ç”»é¢
â”‚   â””â”€â”€ ...
â”œâ”€â”€ constants/
â”‚   â””â”€â”€ famica_colors.dart        # ã‚«ãƒ©ãƒ¼å®šæ•°
â””â”€â”€ main.dart                     # Riverpodçµ±åˆæ¸ˆã¿
```

## 8ï¸âƒ£ Phase 5 å®Œäº†ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [x] **analytics_service.dartä½œæˆ**
  - [x] getMemberStatsForMonth() å®Ÿè£…
  - [x] getAllTimeMemberStats() å®Ÿè£…
  - [x] MemberStatsã‚¯ãƒ©ã‚¹å®šç¾©
  - [x] Stream<Map>ã§è¿”å´
  - [x] householdIdå˜ä½ã§å–å¾—

- [x] **couple_screen.dartä½œæˆ**
  - [x] StreamBuilderã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åæ˜ 
  - [x] å††ã‚°ãƒ©ãƒ•ï¼ˆfl_chartï¼‰è¡¨ç¤º
  - [x] ãƒ¡ãƒ³ãƒãƒ¼åˆ¥è©³ç´°è¡¨ç¤º
  - [x] ã‚«ãƒ†ã‚´ãƒªåˆ¥å†…è¨³è¡¨ç¤º
  - [x] æœˆåˆ¥/ç´¯è¨ˆåˆ‡ã‚Šæ›¿ãˆ
  - [x] æœˆé¸æŠãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
  - [x] ç©ºãƒ‡ãƒ¼ã‚¿æ™‚ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼

- [x] **ä¾å­˜é–¢ä¿‚è¿½åŠ **
  - [x] flutter_riverpod: ^2.4.9
  - [x] fl_chart: ^0.65.0

- [x] **main.dartæ›´æ–°**
  - [x] ProviderScopeè¿½åŠ 
  - [x] Riverpodçµ±åˆ

- [x] **main_screen.dartæ›´æ–°**
  - [x] ã€ŒãµãŸã‚Šã€ã‚¿ãƒ–è¿½åŠ 
  - [x] CoupleScreençµ±åˆ

- [x] **ã‚³ãƒ¼ãƒ‰å“è³ª**
  - [x] flutter analyze ã‚¨ãƒ©ãƒ¼0ä»¶
  - [x] ã™ã¹ã¦ã®æ©Ÿèƒ½å‹•ä½œç¢ºèª

## 9ï¸âƒ£ Phase 5 ã®æˆæœ

### æŠ€è¡“çš„æˆæœ
- âœ… **StreamBuilderã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**
- âœ… **fl_chartã«ã‚ˆã‚‹å††ã‚°ãƒ©ãƒ•å¯è¦–åŒ–**
- âœ… **asyncMapã«ã‚ˆã‚‹éåŒæœŸå‡¦ç†**
- âœ… **householdIdå˜ä½ã®ãƒ‡ãƒ¼ã‚¿ç®¡ç†**
- âœ… **RiverpodçŠ¶æ…‹ç®¡ç†çµ±åˆ**

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š
- âœ… **è¦–è¦šçš„ãªåˆ†æ‹…çŠ¶æ³ã®æŠŠæ¡**
- âœ… **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã®è‡ªå‹•æ›´æ–°**
- âœ… **æœˆåˆ¥/ç´¯è¨ˆã®ç°¡å˜åˆ‡ã‚Šæ›¿ãˆ**
- âœ… **è©³ç´°ãªçµ±
